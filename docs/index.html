<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aadhaar Analytics Pro</title>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap"
    rel="stylesheet">
  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Plotly -->
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
</head>

<body>

  <!-- Loader -->
  <div id="loading">
    <div class="spinner"></div>
    <h3 style="margin-top:20px; color:var(--accent)">Loading Analytics Ecosystem...</h3>
  </div>

  <div class="app-layout">
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="brand">
        <div class="logo-icon">ðŸ†”</div>
        <div class="logo-text">
          <h2>UIDAI</h2>
          <span>Analytics Core</span>
        </div>
      </div>

      <div class="nav-section">
        <label>Region Filter</label>
        <div class="filter-box">
          <select id="state-filter">
            <option value="All">All India</option>
          </select>
        </div>
      </div>

      <div class="nav-section">
        <label>Dashboards</label>
        <button class="nav-item active" data-tab="overview">Overview</button>
        <button class="nav-item" data-tab="enrolment">Enrolment Trends</button>
        <button class="nav-item" data-tab="demographics">Demographics</button>
        <button class="nav-item" data-tab="biometrics">Biometrics</button>
        <button class="nav-item" data-tab="predictions">Forecasts</button>
        <button class="nav-item" data-tab="recommendations">Policy & Actions</button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="content">
      <header>
        <div>
          <h1 id="page-title">Executive Dashboard</h1>
          <p id="page-subtitle">Analytics for Region: All India</p>
        </div>
        <!-- Status Badge -->
        <div id="ai-status" class="hidden">
          <span
            style="background: rgba(59,130,246,0.2); color: #60a5fa; padding: 6px 12px; border-radius: 20px; border: 1px solid rgba(59,130,246,0.4); font-size: 0.8rem;">
            âœ¨ Gemini AI Active
          </span>
        </div>
      </header>

      <!-- --- TAB: OVERVIEW --- -->
      <div id="overview" class="tab-pane active">

        <!-- AI Insight Box -->
        <div id="ai-insight-box" class="ai-panel hidden">
          <div class="ai-header">ðŸ”® Chief Strategy Officer Insight</div>
          <div class="ai-content" id="ai-text-content">Analysis pending...</div>
        </div>

        <!-- KPIs -->
        <div class="kpi-grid">
          <div class="kpi-card">
            <div class="kpi-label">Total Enrolments</div>
            <div class="kpi-value" id="kpi-enrolments">0</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">Demographic Updates</div>
            <div class="kpi-value" id="kpi-demo-updates">0</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">Biometric Updates</div>
            <div class="kpi-value" id="kpi-bio-updates">0</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-label">Update Intensity</div>
            <div class="kpi-value" id="kpi-intensity">0%</div>
            <div id="gauge-container" style="position:absolute; right:10px; bottom:0px; transform: scale(0.6)"></div>
          </div>
        </div>

        <!-- Charts Row 1 -->
        <div class="charts-row">
          <div class="chart-card half">
            <h3>National Performance</h3>
            <div id="chart-state-bar" class="chart-container"></div>
          </div>
          <div class="chart-card half">
            <h3>Geographic Impact</h3>
            <div id="chart-map" class="chart-container"></div>
          </div>
        </div>

        <!-- Charts Row 2 -->
        <div class="charts-row">
          <div class="chart-card full">
            <h3>District-Wise Density (Top 50)</h3>
            <div id="chart-treemap" class="chart-container"></div>
          </div>
        </div>
      </div>

      <!-- --- TAB: ENROLMENT --- -->
      <div id="enrolment" class="tab-pane">
        <div class="chart-card full" style="margin-bottom:20px">
          <h3>Enrolment Trends (Age Group Segmentation)</h3>
          <div id="chart-trend-enr" class="chart-container"></div>
        </div>
        <div class="charts-row">
          <div class="chart-card half">
            <h3>Age Distribution</h3>
            <div id="chart-age-pie" class="chart-container"></div>
          </div>
          <div class="chart-card half">
            <h3>Conversion Funnel</h3>
            <div id="chart-funnel" class="chart-container"></div>
          </div>
        </div>
      </div>

      <!-- --- TAB: DEMOGRAPHICS --- -->
      <div id="demographics" class="tab-pane">
        <div class="chart-card full">
          <h3>Demographic Update Trends</h3>
          <div id="chart-trend-demo" class="chart-container"></div>
        </div>
      </div>

      <!-- --- TAB: BIOMETRICS --- -->
      <div id="biometrics" class="tab-pane">
        <div class="chart-card full">
          <h3>Biometric Update Trends</h3>
          <div id="chart-trend-bio" class="chart-container"></div>
        </div>
      </div>

      <!-- --- TAB: PREDICTIONS --- -->
      <div id="predictions" class="tab-pane">
        <div class="chart-card full">
          <h3>ðŸ”® 3-Month Demand Forecast (Neural Prophet)</h3>
          <div id="chart-forecast" class="chart-container"></div>
        </div>
      </div>

      <!-- --- TAB: RECOMMENDATIONS --- -->
      <div id="recommendations" class="tab-pane">
        <div class="ai-panel">
          <div class="ai-header">ðŸ“œ Ministerial Decision Note (AI Drafted)</div>
          <div class="ai-content-large" id="ai-policy-text">Generating draft...</div>
        </div>

        <div class="chart-card full">
          <h3>ðŸš¨ Action Required: High Stress Zones</h3>
          <div class="table-container">
            <table id="recs-table">
              <thead>
                <tr>
                  <th>State</th>
                  <th>District</th>
                  <th>Metric</th>
                  <th>Action Required</th>
                </tr>
              </thead>
              <tbody>
                <!-- JS Populated -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </main>
  </div>

  <!-- Logic -->
  <script src="js/app.js"></script>
</body>

</html>